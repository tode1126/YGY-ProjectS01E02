<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="question">

    <select id="questionTotalCount" resultType="int">
		select count(*) from qna_board
	</select>

	<select id="questionSelectData" parameterType="int" resultType="qdto">
	     select * from qna_board where qna_pk = #{qna_pk} 
	</select>

	<select id="questionPagingList" parameterType="HashMap" resultType="qdto">
		select * from qna_board  order by qna_ref desc, qna_pk asc limit #{offset},#{block}
	</select>

	<insert id="questionInsert" parameterType="qdto">
	    insert into qna_board (qna_writer, qna_subject, qna_content, qna_ref, qna_writeday) values (#{qna_writer}, #{qna_subject}, #{qna_content}, #{qna_ref}, now())
	</insert>

	<insert id="questionAnswer" parameterType="qdto">
	    insert into qna_board (qna_writer, qna_subject, qna_content, qna_ref, qna_writeday) values (#{qna_writer}, #{qna_subject}, #{qna_content}, #{qna_ref}, now())
	</insert>

	<select id="questionMaxPk" resultType="int">
	    select max(qna_pk) from qna_board
	</select>



</mapper>